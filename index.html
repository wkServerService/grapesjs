<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>GrapesJS</title>
		<link rel="stylesheet" href="styles/css/main.css">
		<link rel="stylesheet" href="vendor/codemirror/lib/codemirror.css">
		<link rel="stylesheet" href="vendor/codemirror/theme/hopscotch.css">
	</head>
	<body>
		<div id="wte-app"></div>
		<script data-main="src/demo" src="vendor/jquery/jquery.js"></script>
		<script data-main="src/demo" src="vendor/require/require.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('#wte-app').on('dblclick','div[data-class="custom-comp"]', function (event) {
				showModal(this);
				event.preventDefault();
				return false;
			});
		});
			function  showModal(obj) {
				//event.preventDefault();
				var modelObj = null;
				for(var key in obj){
					if(modelObj!=null){
						break;
					}
					modelObj = obj[key];
				}
				if(modelObj == null){
					return false;
				}
				/*var mo_type = typeof modelObj;
				var m_type = typeof modelObj.model;
				var mc_type = typeof modelObj.modelComp;*/
				alert('id:'+$(obj).attr('id'));
				alert('data-class:'+$(obj).data('class'));
				alert('data-type:'+$(obj).data('type'));
				$(obj).attr('data-label','text-200');
				modelObj.model.attributes.attributes['data-label']='text-200';
				alert('data-label:'+$(obj).data('label'));
				//modelObj.model.trigger('change:attributes');
				//modelObj.modelComp.trigger('change:attributes');
				return false;
			}
	</script>
	</body>
</html>
